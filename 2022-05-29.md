DNS, 그리고 동작방식
DNS = 도메인 이름 시스템, 사람이 읽을 수 있는 도메인 이름(www.naver.com)을 기계가 읽을 수 있는 IP주소(192.0.0.0.)로 변환

DNS 기본 사항
- DNS는 전 세계에 배포된 서비스로, 컴퓨터가 서로 통신할 수 있도록
- DNS 서버는 이름을 IP 주소로 변환하여 도메인 이름을 웹 브라우저에 입력할 EO 최종 사용자를 어떤 서버에 연결 할 것인지 제어 -> 이 요청을 쿼리라고 함

DNS 서비스 유형
- 신뢰할 수 있는 DNS는 개발자가 퍼블릭 이름을 관리하는데 사용하는 업데이트 메커니즘 제공 -> 메커니즘 통해서 DNS 쿼리에 응답하고 도메인 이름을 IP 주소로 변환 -> 컴퓨터가 서로 통신
- 신뢰할 수 있는 DNS는 도메인에 대해 최종 권한을 가지고, 재귀적 DNS 서버에 IP 주소 정보가 담긴 답을 제공할 책임이 있음
- 재귀적 DNS : 신뢰할 수 있는 DNS는 직접 쿼리를 수행 하지 않음 -> 해석기나 재귀적 DNS 같은 다른 유형 DNS에 연결하는 것이 일반적, DNS 레코드를 소유하고 있지 않지만 사용자를 대신해서 DNS 정보를 가져올 수 있는 중간자 역할, 일정 기간 동안 캐시되거나 저장된 DNS 참조를 가지고 있는 경우, 소스 또는 IP정보를 제공해서 DNS 쿼리에 답하지만 그렇지 않으면 해당 정보를 찾기위해 쿼리를 하나 이상의 신뢰할 수 있는 DNS 서버에 전달.

DNS 쿼리 유형
1. 재귀 쿼리
- 확인자가 레코드를 찾을 수 없는 경우, DNS 클라이언트 DNS 서버가, 요청한 자원 레코드 또는 오류 메시지를 사용하여 클라이언트에 응답하도록 요구
2. 반복 쿼리
- DNS 클라이언트는 DNS 서버가 가능한 최상의 응답을 반환, 이 프로세스는 오류 또는 제한 시간 초과가 발생할 때까지 추가 DNS 서버가 쿼리를 중단한 상태로 계속됨
3. 비재귀 쿼리
- DNS 확인자 클라이언트의 쿼리를 받은 DNS 서버가 해당 레코드에 대한 권한이 있거나 캐시 내부에 해당 레코드를 갖고 있어, 서버가 액세스 권한을 갖고 있는 레코드를 쿼리할 때 발생, 일반적으로 추가 대역폭 소비 + 업스트림 서버의 부하를 방지하려고 DNS 레코드를 캐시

DNS는 트래픽을 웹 애플리케이션에 어떻게 라우팅하는지?

![image](https://user-images.githubusercontent.com/80503956/170955152-cae05b1f-61cf-42cd-843f-893297dabb26.png)


- 사용자가 웹 브라우저를 열어 주소 표시줄에 www...어쩌구를 입력
- www...어쩌구에 대한 요청은 일반적으로 케이블 인터넷 공급업체, DSL 광대역 공급업체 또는 기업 네트워크 같은 인터넷 서비스 제공업체가 관리하는 DNS 해석기로 라우팅됨
- ISP의 DNS 해석기는 www...어쩌구에 대한 요청을 DNS 루트 이름 서버에 전달
- ISP의 DNS 해석기는 www...어쩌구에 대한 요청을 이번에는 .com 도메인의 TLD 이름 서버중 하나에 다시 전달 (TLD -> 최상위 도메인 ex) .org .com 이런거)
- ISP의 DNS 해석기는 이름 서버 하나를 선택해 www...어쩌구에 대한 요청을 해당 이름 서버에 전달
- 이름 서버는 레코드를 찾아 웹 서버의 IP 주소 192.어쩌구 등 연관된 값을 받고 IP 주소를 DNS 해석기로 반환
- ISP의 DNS 해석기가 마침내 사용자에게 필요한 IP주소를 확보하게 됨. 해석기는 이 값을 웹 브라우저로 반환, DNS 해석기는 다음에 www...어쩌구를 누군가가 탐색할 때 좀 더 빠르게 응답할 수있도록 사용자가 지정하는 일정 기간 IP를 저장
- 웹 브라우저는 DNS 해석기로부터 얻은 IP 주소로 요청을 전송
- 192.어쩌구에 있는 웹 서버 또는 그 밖의 리소스는 웹 브라우저로 반환하고, 웹 브라우저는 이 페이지를 표시
